!function(e,t,o,n){"use strict";function i(o,n){d[o]&&(D.before(o,f),y=1,D.sectionName&&(t.location.hash=d[o]),n?(e(D.target).stop().scrollTop(r[o]),D.after(o,f)):(e(D.target).stop().animate({scrollTop:r[o]},D.scrollSpeed,D.easing),e(D.target).promise().done(function(){w=!1,D.after(o,f)})))}function s(e,t){for(var o=d.length;o>=0;o--)"string"==typeof e?d[o]===e&&(m=o,i(o,t)):o===e&&(m=o,i(o,t))}var c,u,a,h,l,r=[],d=[],f=[],p=[],m=0,y=1,g=(t.location.hash,!1),v=e(t).scrollTop(),b=!1,w=!1,T=!1,M=!1,H=0,D={section:"section",sectionName:"section-name",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,axis:"y",target:"html,body",before:function(){},after:function(){},afterResize:function(){}};e.scrollify=function(n){function s(t){e(D.target).stop().animate({scrollTop:t},D.scrollSpeed,D.easing)}function M(){e(D.section).each(function(o){e(this).css("height","auto").outerHeight()<e(t).height()?(e(this).css({height:e(t).height()}),p[o]=!1):p[o]=!0})}function E(o){e(D.section).each(function(o){r[o]=o>0?e(this).offset().top+D.offset:e(this).offset().top,d[o]=D.sectionName&&e(this).data(D.sectionName)?"#"+e(this).data(D.sectionName).replace(/ /g,"-"):"#"+(o+1),f[o]=e(this),t.location.hash===d[o]&&(m=o,g=!0)}),!0===o&&i(m,!1)}function S(){return v=e(t).scrollTop(),v>parseInt(r[m])?!1:!0}function N(){return v=e(t).scrollTop(),v<parseInt(r[m])+(f[m].height()-e(t).height())?!1:!0}e.easing.easeOutExpo=function(e,t,o,n,i){return t==i?o+n:n*(-Math.pow(2,-10*t/i)+1)+o},a={handleMousedown:function(){b=!1,T=!1},handleMouseup:function(){b=!0,T&&a.calculateNearest()},handleScroll:function(){c&&clearTimeout(c),c=setTimeout(function(){return T=!0,b===!1?!1:(b=!1,a.calculateNearest(),void 0)},200)},calculateNearest:function(){v=e(t).scrollTop();for(var o,n=1,s=r.length,c=0,u=Math.abs(r[0]-v);s>n;n++)o=Math.abs(r[n]-v),u>o&&(u=o,c=n);(N()||S())&&(m=c,i(c,!1))},wheelHandler:function(e,t){return p[m]||e.preventDefault(),t=t||-e.originalEvent.detail/3||e.originalEvent.wheelDelta/120,w?(H=(new Date).getTime(),!1):(new Date).getTime()<H+50?(H=(new Date).getTime(),!1):(0>t?m<r.length-1&&N()&&(e.preventDefault(),m++,w=!0,i(m,!1)):t>0&&m>0&&S()&&(e.preventDefault(),m--,w=!0,i(m,!1)),void 0)},keyHandler:function(e){38==e.keyCode?m>0&&S()&&(m--,i(m,!1)):40==e.keyCode&&m<r.length-1&&N()&&(m++,i(m,!1))},scrollTo:function(){m=e(this).data("displayIndex"),i(m,!1)},init:function(){D.scrollbars?(e(t).bind("mousedown",a.handleMousedown),e(t).bind("mouseup",a.handleMouseup),e(t).bind("scroll",a.handleScroll)):e("body").css({overflow:"hidden"}),e(o).bind("DOMMouseScroll mousewheel",a.wheelHandler),e(o).bind("keydown",a.keyHandler),e(".select_display_js").bind("click",a.scrollTo)}},h={touches:{touchstart:{y:-1},touchmove:{y:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){var t;if("undefined"!=typeof e&&"undefined"!=typeof e.touches)switch(t=e.touches[0],e.type){case"touchstart":h.touches.touchstart.y=t.pageY,h.touches.touchmove.y=-1,h.options.timeStamp=(new Date).getTime(),h.touches.touchend=!1;case"touchmove":h.touches.touchmove.y=t.pageY,h.touches.touchstart.y!==h.touches.touchmove.y&&(e.preventDefault(),h.options.timeStamp+h.options.timeGap<(new Date).getTime()&&0==h.touches.touchend&&(h.touches.touchend=!0,h.touches.touchstart.y>-1&&Math.abs(h.touches.touchmove.y-h.touches.touchstart.y)>h.options.distance&&(h.touches.touchstart.y<h.touches.touchmove.y?h.up():h.down())));break;case"touchend":h.touches[e.type]===!1&&(h.touches[e.type]=!0,h.touches.touchstart.y>-1&&h.touches.touchmove.y>-1&&(Math.abs(h.touches.touchmove.y-h.touches.touchstart.y)>h.options.distance&&(h.touches.touchstart.y<h.touches.touchmove.y?h.up():h.down()),h.touches.touchstart.y=-1))}},down:function(){m<=r.length-1&&(N()&&m<r.length-1?(m++,i(m,!1)):Math.floor(f[m].height()/e(t).height())>y?(s(parseInt(r[m])+e(t).height()*y),y+=1):s(parseInt(r[m])+(f[m].height()-e(t).height())))},up:function(){m>=0&&(S()&&m>0?(m--,i(m,!1)):y>2?(y-=1,s(parseInt(r[m])+e(t).height()*y)):(y=1,s(parseInt(r[m]))))},init:function(){o.addEventListener&&(o.addEventListener("touchstart",h.touchHandler,!1),o.addEventListener("touchmove",h.touchHandler,!1),o.addEventListener("touchend",h.touchHandler,!1))}},l={handleResize:function(){clearTimeout(u),u=setTimeout(function(){M(),E(!0),D.afterResize()},50)}},D=e.extend(D,n),M(),E(!1),g===!1&&D.sectionName?t.location.hash=d[0]:i(m,!1),a.init(),h.init(),e(t).bind("resize",l.handleResize)},e.scrollify.move=function(e){return e===n?!1:(s(e,!1),void 0)},e.scrollify.instantMove=function(e){return e===n?!1:(s(e,!0),void 0)},e.scrollify.next=function(){m<d.length&&(m+=1,i(m,!1))},e.scrollify.next=function(){m<d.length&&(m+=1,i(m,!1))},e.scrollify.instantNext=function(){m<d.length&&(m+=1,i(m,!0))},e.scrollify.instantPrevious=function(){m>0&&(m-=1,i(m,!0))},e.scrollify.destroy=function(){e(D.section).each(function(){e(this).css("height","auto")}),e(t).unbind("resize",l.handleResize),D.scrollbars&&(e(t).unbind("mousedown",a.handleMousedown),e(t).unbind("mouseup",a.handleMouseup),e(t).unbind("scroll",a.handleScroll)),e(o).unbind("DOMMouseScroll mousewheel",a.wheelHandler),e(o).unbind("keydown",a.keyHandler),o.addEventListener&&(o.removeEventListener("touchstart",h.touchHandler,!1),o.removeEventListener("touchmove",h.touchHandler,!1),o.removeEventListener("touchend",h.touchHandler,!1)),r=d=f=p=null},e.scrollify.update=function(){l.handleResize()},e.scrollify.current=function(){return f[m]},e.scrollify.disable=function(){disable=!0},e.scrollify.enable=function(){M=!1}}(jQuery,this,document);